"use strict";var t;figma.showUI(__html__,{width:400,height:300}),function(t){t.vector="VECTOR",t.rectangle="RECTANGLE"}(t||(t={}));let e=t.vector;const s=(t,e)=>`$${t}: (\n    ${Object.keys(e).map((t,s)=>`${t}:${e[t]}\n`)}\n );\n `,r=r=>{const n=Object.keys(JSON.parse(r)).toString();var o;"selectableType"===n&&("vector"==(o=Object.values(JSON.parse(r)).toString())&&(e=t.vector),"rectangle"==o&&(e=t.rectangle)),"paletteUpdate"===n&&(t=>{const e=JSON.parse(t),r=Object.values(e)[0];console.log(r);const n=Object.keys(r).toString(),o=Object.entries(r)[0][1];figma.ui.postMessage(JSON.stringify({code:`${s(n,o)}`}))})(r)};figma.ui.onmessage=t=>{r(t)},figma.on("selectionchange",()=>{console.log(figma.currentPage.selection),n.extractor(figma.currentPage.selection,"GROUP",e).reverse().forEach(t=>{const e=n.convertColor(t.color);figma.ui.postMessage(JSON.stringify({color:`${e}`}))})});const n=new class{constructor(){this.COLOR_SET=255,this.convertColor=t=>{const{a:e,r:s,g:r,b:n}=t;let o,c,i;return o=parseInt((s*this.COLOR_SET).toString(),0),c=parseInt((r*this.COLOR_SET).toString(),0),i=parseInt((n*this.COLOR_SET).toString(),0),`#${((1<<24)+(o<<16)+(c<<8)+i).toString(16).slice(1)}`}}extractor(t,e,s){return t.reduce((t,r)=>{if(r.type==e)return this.extractor(r.children,e,s);if(console.log(s),r.type==s){const e=r.name.split("/")[0],s=Object.assign({name:e},...r.fills),n=Object.assign({weight:r.name.split("/")[1]},s);t.push(n)}return t},[])}};
